<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
      .switchOn {
        background-color: lightblue;
      }
    </style>
    <title></title>
</head>
<body style="padding: 0;">
<button onclick="document.execCommand('bold', false); document.getElementById('visual-view').focus();">太字</button>
<button onclick="document.execCommand('italic', false); document.getElementById('visual-view').focus();">斜体</button>
<button onclick="document.execCommand('underline', false); document.getElementById('visual-view').focus();">アンダーライン</button>
<button onclick="document.execCommand('formatBlock', false, '<h1>'); document.getElementById('visual-view').focus();">見出し</button>
<button onclick="document.execCommand('formatBlock', false, '<p>'); document.getElementById('visual-view').focus();">段落</button>
<button onclick="toggleEditor();">エディタ切り替え</button>
<div id="visual-view" style="display: block; height: 100vh; width: 100%; outline: none;" contenteditable>
</div>
<textarea id="code-view" style="display: none; height: 100vh; width: 100%; outline: 1px;"></textarea>
<script>
    document.getElementById('visual-view').focus();
    document.execCommand('defaultParagraphSeparator', false, 'p');
    document.execCommand('formatBlock', false, '<p>');
    function toggleEditor() {
        visualView = document.getElementById('visual-view');
        codeView = document.getElementById('code-view');
        if(visualView.style.display == 'block') {
            codeView.value = visualView.innerHTML.replace(/></g, '>\n<');
            visualView.style.display = 'none';
            codeView.style.display = 'block';
        } else {
            visualView.innerHTML = codeView.value;
            codeView.style.display = 'none';
            visualView.style.display = 'block';
        }
    }
</script>
</body>

</html>
